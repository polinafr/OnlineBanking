{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect } from \"react\";\nexport const useAuth = () => {\n  _s();\n\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [password, setPassword] = useState(null);\n  const login = useCallback((id, token, password) => {\n    localStorage.setItem('userData', JSON.stringify({\n      userId: id,\n      token,\n      password\n    }));\n    setUserId(id);\n    setToken(token);\n    setPassword(password);\n  }, [setToken, setUserId, setPassword]);\n  const logout = useCallback(() => {\n    localStorage.removeItem('userData');\n    setUserId(null);\n    setToken(null);\n    setPassword(null);\n  }, [setUserId, setToken]);\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem('userData'));\n\n    if (data && data.token && data.userId) {\n      login(data.userId, data.token, data.password);\n    }\n  }, [login]);\n  return {\n    token,\n    userId,\n    password,\n    login,\n    logout\n  };\n};\n\n_s(useAuth, \"oG54CVi5jRRh4DpErl4llkFFNpU=\");","map":{"version":3,"names":["useState","useCallback","useEffect","useAuth","token","setToken","userId","setUserId","password","setPassword","login","id","localStorage","setItem","JSON","stringify","logout","removeItem","data","parse","getItem"],"sources":["C:/OnlineBanking/mern-project/client/src/hooks/auth.hook.js"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\"\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null)\r\n    const [userId, setUserId] = useState(null)\r\n    const [password, setPassword] = useState(null)\r\n\r\n    const login = useCallback((id, token, password) => {\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            userId: id,\r\n            token,\r\n            password\r\n        }))\r\n        setUserId(id)\r\n        setToken(token)\r\n        setPassword(password)\r\n    }, [setToken, setUserId, setPassword])\r\n\r\n    const logout = useCallback(() => {\r\n        localStorage.removeItem('userData')\r\n        setUserId(null)\r\n        setToken(null)\r\n        setPassword(null)\r\n    }, [setUserId, setToken])\r\n\r\n    useEffect(() => {\r\n        const data = JSON.parse(localStorage.getItem('userData'))\r\n        if (data && data.token && data.userId){\r\n            login(data.userId, data.token, data.password)\r\n        }\r\n    }, [login])\r\n    return { token, userId, password, login, logout }\r\n}"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACzB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,IAAD,CAApC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,IAAD,CAAxC;EAEA,MAAMU,KAAK,GAAGT,WAAW,CAAC,CAACU,EAAD,EAAKP,KAAL,EAAYI,QAAZ,KAAyB;IAC/CI,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAe;MAC5CT,MAAM,EAAEK,EADoC;MAE5CP,KAF4C;MAG5CI;IAH4C,CAAf,CAAjC;IAKAD,SAAS,CAACI,EAAD,CAAT;IACAN,QAAQ,CAACD,KAAD,CAAR;IACAK,WAAW,CAACD,QAAD,CAAX;EACH,CATwB,EAStB,CAACH,QAAD,EAAWE,SAAX,EAAsBE,WAAtB,CATsB,CAAzB;EAWA,MAAMO,MAAM,GAAGf,WAAW,CAAC,MAAM;IAC7BW,YAAY,CAACK,UAAb,CAAwB,UAAxB;IACAV,SAAS,CAAC,IAAD,CAAT;IACAF,QAAQ,CAAC,IAAD,CAAR;IACAI,WAAW,CAAC,IAAD,CAAX;EACH,CALyB,EAKvB,CAACF,SAAD,EAAYF,QAAZ,CALuB,CAA1B;EAOAH,SAAS,CAAC,MAAM;IACZ,MAAMgB,IAAI,GAAGJ,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACQ,OAAb,CAAqB,UAArB,CAAX,CAAb;;IACA,IAAIF,IAAI,IAAIA,IAAI,CAACd,KAAb,IAAsBc,IAAI,CAACZ,MAA/B,EAAsC;MAClCI,KAAK,CAACQ,IAAI,CAACZ,MAAN,EAAcY,IAAI,CAACd,KAAnB,EAA0Bc,IAAI,CAACV,QAA/B,CAAL;IACH;EACJ,CALQ,EAKN,CAACE,KAAD,CALM,CAAT;EAMA,OAAO;IAAEN,KAAF;IAASE,MAAT;IAAiBE,QAAjB;IAA2BE,KAA3B;IAAkCM;EAAlC,CAAP;AACH,CA9BM;;GAAMb,O"},"metadata":{},"sourceType":"module"}