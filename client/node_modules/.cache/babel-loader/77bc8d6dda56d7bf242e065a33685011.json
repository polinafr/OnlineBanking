{"ast":null,"code":"var _jsxFileName = \"C:\\\\OnlineBanking\\\\mern-project\\\\client\\\\src\\\\pages\\\\user\\\\UserTransactions.jsx\",\n    _s = $RefreshSig$();\n\nimport { Link, Navigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../context\";\nimport { useContext } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useHttp } from \"../../hooks/http.hook\";\nimport { useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const UserTransactions = () => {\n  _s();\n\n  const {\n    isAuth,\n    userId\n  } = useContext(AuthContext);\n  const [transactions, setTransactions] = useState({});\n  const {\n    request\n  } = useHttp();\n  const getTransactions = useCallback(async () => {\n    const data = await request(`/api/transactions/user-transactions/${userId}`, 'GET');\n    return data;\n  }, [request, userId]);\n  useEffect(() => {\n    getTransactions().then(data => {\n      setTransactions(data);\n    });\n  }, [getTransactions, setTransactions]);\n\n  const formatDate = date => {\n    const day = date.getDay();\n    const month = date.getMonth();\n    const year = date.getFullYear();\n    return `${day > 10 ? day : \"0\" + day}-${month > 10 ? month : \"0\" + month}-${year}`;\n  };\n\n  const filterDate = event => {\n    console.log(event);\n  };\n\n  if (!isAuth) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/user/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      style: {\n        paddingLeft: \"10rem\",\n        paddingRight: \"10rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Date filter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"browser-default\",\n        onSelect: filterDate,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          defaultValue: true,\n          children: \"Choose your option\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1\",\n          children: \"Option 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"2\",\n          children: \"Option 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"3\",\n          children: \"Option 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"center-align\",\n        style: {\n          marginRight: \"70px\"\n        },\n        children: \"Your transactions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), transactions.message && transactions.message.map((transaction, idx) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s3 m4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card blue-grey darken-1 z-depth-4\",\n            style: {\n              width: \"30rem\",\n              height: \"27rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-content white-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginBottom: \"40px\"\n                },\n                className: \"card-title\",\n                children: transaction.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 41\n              }, this), transaction.type === 'LEND' && /*#__PURE__*/_jsxDEV(\"h6\", {\n                style: {\n                  marginBottom: \"30px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: [\"Status:\\xA0\", !transaction.closed ? \"Opened\" : \"Closed\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 108\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 73\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                style: {\n                  marginBottom: \"30px\"\n                },\n                children: [\"From:\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: transaction.from\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 87\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                style: {\n                  marginBottom: \"30px\"\n                },\n                children: [\"To:\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: transaction.to\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 85\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                style: {\n                  marginBottom: \"30px\"\n                },\n                children: [\"Receiver email:\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: transaction.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 97\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                style: {\n                  marginBottom: \"40px\"\n                },\n                children: [\"Sum:\\xA0\", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: transaction.sum\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 86\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"Date:\\xA0\", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: formatDate(new Date(transaction.date))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 56\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 32\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(UserTransactions, \"53mvnhWGoV763Cn6I+LXrodR+wA=\", false, function () {\n  return [useHttp];\n});\n\n_c = UserTransactions;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserTransactions\");","map":{"version":3,"names":["Link","Navigate","AuthContext","useContext","useEffect","useState","useHttp","useCallback","UserTransactions","isAuth","userId","transactions","setTransactions","request","getTransactions","data","then","formatDate","date","day","getDay","month","getMonth","year","getFullYear","filterDate","event","console","log","paddingLeft","paddingRight","marginRight","message","map","transaction","idx","width","height","marginBottom","type","closed","from","to","email","sum","Date"],"sources":["C:/OnlineBanking/mern-project/client/src/pages/user/UserTransactions.jsx"],"sourcesContent":["import { Link, Navigate } from \"react-router-dom\"\r\nimport { AuthContext } from \"../../context\"\r\nimport { useContext } from \"react\"\r\nimport { useEffect } from \"react\"\r\nimport { useState } from \"react\"\r\nimport { useHttp } from \"../../hooks/http.hook\"\r\nimport { useCallback } from \"react\"\r\n\r\n\r\nexport const UserTransactions = () => {\r\n    const { isAuth, userId } = useContext(AuthContext)\r\n    const [ transactions, setTransactions ] = useState({})\r\n    const { request } = useHttp()\r\n\r\n\r\n    const getTransactions = useCallback(async () => {\r\n        const data = await request(`/api/transactions/user-transactions/${userId}`, 'GET')\r\n        return data\r\n    }, [request, userId])\r\n    \r\n    useEffect(() => {\r\n        getTransactions().then(data => {\r\n            setTransactions(data)\r\n        })\r\n    }, [getTransactions, setTransactions])\r\n\r\n    const formatDate = (date) => {\r\n        const day = date.getDay()\r\n        const month = date.getMonth()\r\n        const year = date.getFullYear()\r\n        return `${day > 10 ? day : \"0\" + day}-${month > 10 ? month : \"0\" + month}-${year}`\r\n    }\r\n\r\n    const filterDate = event => {\r\n        console.log(event)\r\n    }\r\n\r\n    if (!isAuth){\r\n        return <Navigate to=\"/user/login\"/>\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"row\" style={{paddingLeft: \"10rem\", paddingRight: \"10rem\"}}>\r\n                <label>Date filter</label>\r\n                <select className=\"browser-default\" onSelect={filterDate}>\r\n                    <option value=\"\" disabled defaultValue>Choose your option</option>\r\n                    <option value=\"1\">Option 1</option>\r\n                    <option value=\"2\">Option 2</option>\r\n                    <option value=\"3\">Option 3</option>\r\n                </select>\r\n                <h1 className=\"center-align\" style={{marginRight: \"70px\"}}>Your transactions</h1>\r\n                {\r\n                    transactions.message && transactions.message.map((transaction, idx) => {\r\n                        return <div className=\"col s3 m4\" key={idx}>\r\n                                <div className=\"card blue-grey darken-1 z-depth-4\" style={{width: \"30rem\", height: \"27rem\"}}>\r\n                                    <div className=\"card-content white-text\">\r\n                                        <span style={{marginBottom: \"40px\"}} className=\"card-title\">{transaction.type}</span>\r\n                                        {transaction.type === 'LEND' && <h6 style={{marginBottom: \"30px\"}}><b>Status:&nbsp;{!transaction.closed ? \"Opened\" : \"Closed\"}</b></h6>}\r\n                                        <h6 style={{marginBottom: \"30px\"}}>From:&nbsp;<strong>{transaction.from}</strong></h6>\r\n                                        <h6 style={{marginBottom: \"30px\"}}>To:&nbsp;<strong>{transaction.to}</strong></h6>\r\n                                        <h6 style={{marginBottom: \"30px\"}}>Receiver email:&nbsp;<strong>{transaction.email}</strong></h6>\r\n                                        <h6 style={{marginBottom: \"40px\"}}>Sum:&nbsp;<b>{transaction.sum}</b></h6>\r\n                                        <h6>Date:&nbsp;<b>{formatDate(new Date(transaction.date))}</b></h6>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                    }) \r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}